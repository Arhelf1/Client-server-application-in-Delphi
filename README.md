# Client-server application in Delphi
 Приложение такси ( Клиент Сервер Мобильное устройство)

Приложение состоит из клиента и сервера, написанных в Delphi 10.3, Андроид приложение написано с использованием языка Java
В серверной части реализованы UDP сервер и HTTP сервер для общения с оператором и водителем по средствам пост запросов и Json соответственно.

Для запуска сервера необходимо поместить файл с проектом в C:\Delphi\ для избежания лишних проблем и изменения чего либо в программе.
Так же необходимо иметь на ПК Firebird 3.0, только тогда сервер будет работать корректно.
В появившемся окошке записываем адрел localhost, т е 127.0.0.1 и нажимаем кнопку запуска.

Для запуска клиента так же необходимо соблюсти те же условия, что и для сервера.
В поле хост необходимо ввести Ipv4 - адрес сервера, чтобы его узнать запускаем CMD и прописываем ipconfig
Если же хотите запустить приложение вообще без сервера, то достаточно просто прописать хост 127.0.0.1

Логины и пароли хранятся в базе Taxi.fdb

Функционал - Добавление, изменение Адреса поездки, заказчика, транспорта работников(оператора, менеджера, водителя), заказов.
Транспорт можно назначать водителям, так же можно перераспределять заказы между водителями.

У заказов имеется статус(Не просмотрен, просмотрен, на месте, в пути, завершенный, отмененный)

Если открыть несколько клиентов, то при изменении на одном-происходит изменение информации на всех остальных без обращения к серверу по таймеру.

Для запуска Андроид приложения желательно иметь Android studio, но не обязательно. Устанавливаем apk файл через эмулятор BlueStucks либо же на мобильное устройство
В диалоговом окне вводим логин и пароль из базы (2 2) для примера. Записываем порт в формате http://ipv4-адрес:7777
Если заказы были распределены этому водителю, то они будут выведены на экран, для их подробного просмотра необходимо кликнуть на интересующий заказ.
Обновление происходит только по кнопке, по этому если что то поменялось в заказах - водителю необходимо обновить заказы.


Пару слов о структуре клиента: Имеется форма abstract_operator_form, которая реализует ЛОГИКУ формы оператора, а именно имеет в распоряжении два списка : список интерфейсов заказов и список интерфейсов водителей. Обрабатывает UDP и добавляет-удаляет элементы из списков. Использует виртуальные методы для добавления- удаления элементов.

Имеется форма, которая наследует abstract_operator_form - operator_form_inh. В ней реалзована ОТРИСОВКА элементов.

Графическими элементами являются объекты TPanel_order и TPanel_driver Эти классы отвечают за ОТРИСОВКУ СЕБЯ, а также хранят объекты TOrder и TDriver соотв, используют их как хранилище информации.

TOrder и TDriver отвечают за ХРАНЕНИЕ данных из таблиц и ЛОГИКУ РАБОТЫ С БАЗОЙ.

ВАЖНО

1)abstract_operator_form работает только со списками интерфейса

2)operator_form_inh только рисует и связывает друг с другом графические элементы

3)TPanel_order и TPanel_driver реализуют интерфесы к TOrder и TDriver и отрисоввывают сами себя

4)TOrder и TDriver работают с базой


